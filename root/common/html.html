<!DOCTYPE html>
<html>
  <head lang='id'>
    <meta charset='UTF-8'>
    <meta name='author' content='Derek J. Curtis (djcurtis@summersetsoftware.com)'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Jakarta.PM[% IF title %] | [% title %][% END %]</title>

    [% IF c.debug %]
    <link rel='stylesheet' media='screen' href='/static/bootstrap-3.0.0/css/bootstrap.css' />
    <link rel='stylesheet' media='screen' href='/static/bootstrap-3.0.0/css/bootstrap-theme.css' />
    <link rel='stylesheet' media='screen' href='/static/css/styles.css' />
    [% ELSE %]
    <!-- TODO: include minified -->
    [% END %]
    
    <link rel='shortcut icon' href='/static/images/catalyst-favicon.ico' />
    
    
    <link href="/static/css/carousel.css" rel="stylesheet">
    <style id="holderjs-style" type="text/css">.holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}</style>
  </head>
  
  <body>
  
    <nav class='navbar-wrapper'>
      <div class='container'>
         
        <div class="navbar navbar-inverse navbar-static-top">
          <div class='container'>
            
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">Jakarta.pm.org</a>
            </div> <!-- /.navbar-header -->
            
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                [% PROCESS 'common/standard_nav.tt2' %]
              </ul>
              <ul class="nav navbar-nav navbar-right">
                [%  IF c.user_exists;           
                        PROCESS 'common/authenticated_nav.tt2';
                    ELSE;
                        PROCESS 'common/anon_nav.tt2';
                    END; 
                -%]
              </ul>
            </div><!--/.nav-collapse -->
            
    	  </div>
    	</div>
 	  </div> 
     </nav> <!-- /.navbar-wrapper -->
  	  
    <div class='container'>    
    	[% IF c.flash.status_msg %]
    		<div class='alert alert-info alert-dismissable'>
    			<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button>
    			[% c.flash.status_msg %]
    		</div>
    	[% END %]
    	[% IF c.flash.error_msg %]
    		<div class='alert alert-danger alert-dismissable'>
    			<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button>
    			[% c.flash.error_msg %] 
    		</div>
    	[% END %]
    
      <!-- 
        By default we wrap our content up in a 'container' element.. but
        On pages like /root/index we want to specify our own container element. -->
      [% UNLESS no_content_container;	
    	  content;
         END; 
      -%]
    </div>
    
    [% IF no_content_container; 
        content;
       END; 
    -%]
    

    <footer>
      <div class='container'>
        &copy; Copyright Derek J. Curtis 2013         
      </div>
    </footer>


    <!-- Javascript Includes -->
    [% IF c.debug %]
      <script src='/static/jquery-1.10.1/jquery.js'></script>
      <script src='/static/bootstrap-3.0.0/js/bootstrap.js'></script>  
      <script src='/static/js/holder.js'></script>    
    [% ELSE %]
      <!-- TODO: add cdn + minified javascript -->
    [% END %]


	[% post_js_includes %]
	
	[% UNLESS c.debug;
	       PROCESS 'common/google_analytics.tt2';      
	   END;
	-%]
	
	<!-- Navigation highlighting -->
	<script>
      var nav_to_highlight = "[% active_nav_id || undef %]";
      if (nav_to_highlight) {
    	  $('#' + nav_to_highlight).addClass('active');
      }
    </script>

  </body>
</html>
